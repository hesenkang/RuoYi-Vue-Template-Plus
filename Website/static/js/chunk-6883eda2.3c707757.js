(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6883eda2"],{4983:function(e,t,r){"use strict";r("8430")},5177:function(e,t,r){},6573:function(e,t,r){"use strict";r("5177")},"774c":function(e,t,r){"use strict";r("a08a")},8430:function(e,t,r){},a08a:function(e,t,r){},b7cf:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"side-tree-container"},[r("HeSearchTree",e._g(e._b({ref:"searchTree",attrs:{data:e.treeData,checkStrictly:!e.strictly},scopedSlots:e._u([{key:"search-options",fn:function(){return[e._t("search-options-top"),r("el-checkbox",{on:{change:e.handleCheckedTreeExpand},model:{value:e.expand,callback:function(t){e.expand=t},expression:"expand"}},[e._v("展开 / 折叠")]),e.props.showCheckbox?r("el-checkbox",{on:{change:e.handleCheckedTreeNodeAll},model:{value:e.nodeAll,callback:function(t){e.nodeAll=t},expression:"nodeAll"}},[e._v("全选 / 清空")]):e._e(),e.props.showCheckbox?r("el-checkbox",{model:{value:e.strictly,callback:function(t){e.strictly=t},expression:"strictly"}},[e._v("级联")]):e._e(),e._t("search-options-bottom")]},proxy:!0}],null,!0)},"HeSearchTree",Object.assign({},e.$attrs,e.props),!1),e.$listeners))],1)},a=[],s=r("c7eb"),c=r("53ca"),i=r("1da1"),o=r("b85c"),l=(r("d9e2"),r("b0c0"),r("d3b7"),r("ddb0"),r("b775")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search"},[r("div",{staticClass:"search-input"},[r("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),r("div",{staticClass:"search-options"},[e._t("search-options")],2),r("div",{staticClass:"search-tree"},[r("HeBaseTree",e._g(e._b({ref:"baseTree",attrs:{"filter-node-method":e.filterNode}},"HeBaseTree",e.$attrs,!1),e.$listeners))],1)])},d=[],f=(r("4de4"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"container"},[r("el-tree",e._g(e._b({ref:"tree",attrs:{"node-key":e.nodeKey,props:e.defaultProps,data:e.data,"show-checkbox":e.showCheckbox,"check-strictly":e.checkStrictly,"default-checked-keys":e.defaultCheckedKeys,"default-expand-all":e.defaultExpandAll,"expand-on-click-node":e.expandOnClickNode,"highlight-current":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,a=t.data;return[e._t("default",[r("span",[e._v(e._s(n.label))])],{node:n,data:a})]}}],null,!0)},"el-tree",e.$attrs,!1),e.$listeners))],1)}),h=[],p={inheritAttrs:!1,name:"HeBaseTree",props:{nodeKey:{type:String,default:"id"},defaultProps:{type:Object,default:function(){return{children:"children",label:"label"}}},data:{type:Array,default:function(){return[]}},showCheckbox:{type:Boolean,default:!0},checkStrictly:{type:Boolean,default:!1},defaultCheckedKeys:{type:Array,default:function(){return[]}},defaultExpandAll:{type:Boolean,default:!0},expandOnClickNode:{type:Boolean,default:!1}},created:function(){},wathch:{},methods:{getTree:function(){return this.$refs.tree}}},b=p,x=(r("6573"),r("2877")),k=Object(x["a"])(b,f,h,!1,null,"adfd4308",null),y=k.exports,T={components:{HeBaseTree:y},props:{},data:function(){return{filterText:""}},watch:{filterText:function(e){this.getBaseTree().filter(e)}},computed:{treeData:function(){return this.$attrs.data}},methods:{filterNode:function(e,t){return!e||-1!==(null===t||void 0===t?void 0:t.name.indexOf(e))},getBaseTree:function(){return this.$refs.baseTree.getTree()}}},v=T,g=(r("774c"),Object(x["a"])(v,u,d,!1,null,"b60d9d50",null)),C=g.exports,_=function(e,t){var r,n=t.children,a=t.label,s=Object(o["a"])(e);try{for(s.s();!(r=s.n()).done;){var c=r.value;c.name=c[a],c.label=c[a],c[n]&&(c.children=c[n],_(c[n],t))}}catch(i){s.e(i)}finally{s.f()}return e},m={components:{HeSearchTree:C},props:{apiCfg:{type:Object,default:function(){return{}}},data:{type:[Array,Function],default:function(){return[]}},props:{type:Object,default:function(){return{}}}},data:function(){return{vm:this,filterText:"",expand:!0,nodeAll:!1,strictly:!0,treeData:[]}},created:function(){this.onEventBus(),this.initTree()},watch:{},computed:{baseTree:function(){return this.getSearchTree().getBaseTree()},defaultProps:function(){var e;return(null===(e=this.props)||void 0===e?void 0:e.defaultProps)||null}},methods:{onEventBus:function(){var e=this;this.$eventBus.on("onSearchTree",(function(){e.initTree()}),this)},handleCheckedTreeExpand:function(e){var t=this.baseTree.store.nodesMap;for(var r in t)t[r].expanded=e},handleCheckedTreeNodeAll:function(e){var t=this.baseTree;t&&(t.setCurrentKey(null),t.setCheckedNodes(e?this.treeData:[]),this.$emit("handleCheckedTreeNodeAll",t.getCheckedKeys()))},getSearchTree:function(){return this.$refs.searchTree},getBaseTree:function(){return this.$refs.searchTree.getBaseTree()},initTree:function(){var e=this.apiCfg||{},t=e.config;t&&t.url?this.getTree(this.apiCfg):this.data&&this.getTree(this.data)},getTree:function(e){var t=this;return Object(i["a"])(Object(s["a"])().mark((function r(){var n,a,i,o,u,d,f,h,p,b;return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("object"!==Object(c["a"])(e)){r.next=26;break}return n=e,a=n.config,i=n.handleFixRequestData,i&&t.$HE.isFunction(i)&&(a=i(a,t.vm)),r.next=7,Object(l["a"])(a);case 7:if(o=r.sent,u=o,!u||!t.$HE.isObject(u)){r.next=18;break}r.t0=Object(s["a"])().keys(u);case 11:if((r.t1=r.t0()).done){r.next=18;break}if(d=r.t1.value,!Array.isArray(u[d])){r.next=16;break}return u=u[d],r.abrupt("break",18);case 16:r.next=11;break;case 18:if(!(u&&t.$HE.isObject(u)||!Array.isArray(u))){r.next=20;break}throw new Error("getTree: 数据解析失败",u);case 20:t.defaultProps&&(u=_(u,t.defaultProps)),f=n.handleFixResponseData,f&&t.$HE.isFunction(f)&&(u=f(u)),t.treeData=u,r.next=36;break;case 26:if("function"!==typeof e){r.next=35;break}return h=e,r.next=30,h();case 30:p=r.sent,b=p.data,t.treeData=b,r.next=36;break;case 35:Array.isArray(e)&&(t.treeData=e);case 36:case"end":return r.stop()}}),r)})))()}}},$=m,w=(r("4983"),Object(x["a"])($,n,a,!1,null,"f9e944a6",null));t["default"]=w.exports}}]);